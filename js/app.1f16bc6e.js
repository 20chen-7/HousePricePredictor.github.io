(function(){"use strict";var t={8008:function(t,e,a){var o=a(3751),n=a(641);const s={id:"app"};function r(t,e,a,o,r,i){const l=(0,n.g2)("CodingChallenge");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(l,{optionsData:r.sampleData},null,8,["optionsData"])])}var i=a(33);const l={class:"ml"},c={class:"content"},d={class:"input-row"},h={class:"state"},u={class:"country"},p={class:"date-range"},g={class:"search-btn"},k={class:"toggle-row"},m={class:"chart-row"},b={class:"chart-container"},f={class:"reset-btn-container"},C={key:0,class:"chart-row"},y={class:"chart-container"},v={key:1,class:"summary"},L={class:"content-table"},w={class:"table-body"},D={class:"final-row"},S={class:"download-btn-container"};function P(t,e,a,o,s,r){const P=(0,n.g2)("multiselect"),_=(0,n.g2)("VueDatePicker"),O=(0,n.g2)("line-chart"),R=(0,n.g2)("bar-chart");return(0,n.uX)(),(0,n.CE)("div",l,[e[13]||(e[13]=(0,n.Lk)("div",{class:"title-box"},[(0,n.Lk)("h1",null,"House Price Predictor"),(0,n.Lk)("div",{class:"model-intro"},[(0,n.Lk)("p",{class:"model-intro-para"},"Here is the list of House Price for actual/predicted date.")])],-1)),(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.Lk)("div",h,[e[7]||(e[7]=(0,n.Lk)("label",{class:"typo__label",for:"state"},"States:",-1)),(0,n.bF)(P,{modelValue:s.selectedStates,"onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedStates=t),"tag-placeholder":"Add this as new tag",placeholder:"Select a states",options:s.statesOptions||[],multiple:!0,taggable:!0,onTag:r.addStates,"close-on-select":!1},null,8,["modelValue","options","onTag"])]),(0,n.Lk)("div",u,[e[8]||(e[8]=(0,n.Lk)("label",{class:"typo__label",for:"country"},"Countries:",-1)),(0,n.bF)(P,{modelValue:s.selectedCountry,"onUpdate:modelValue":e[1]||(e[1]=t=>s.selectedCountry=t),"tag-placeholder":"Add this as new tag",placeholder:"Select a country",label:"CountryName","track-by":"CountryName",options:s.countryOptions||[],multiple:!0,taggable:!0,onTag:r.addCountries,"close-on-select":!1},null,8,["modelValue","options","onTag"])]),(0,n.Lk)("div",p,[e[9]||(e[9]=(0,n.Lk)("label",{for:"dateRange"},"Date Range:",-1)),(0,n.bF)(_,{modelValue:s.selectedDateRange,"onUpdate:modelValue":e[2]||(e[2]=t=>s.selectedDateRange=t),placeholder:"Select Monthly Range","month-picker":"",range:"","multi-calendars":""},null,8,["modelValue"])]),(0,n.Lk)("div",g,[(0,n.Lk)("button",{class:"bouncy-focus",onClick:e[3]||(e[3]=t=>r.getPredicted(s.selectedStates,s.selectedCountry,s.selectedDateRange))},e[10]||(e[10]=[(0,n.Lk)("svg",{height:"24",width:"24",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 70 70"},[(0,n.Lk)("g",null,[(0,n.Lk)("path",{d:"M66.829,51.329L56.593,41.093c1.479-3.56,2.248-7.387,2.248-11.282c0-16.222-13.198-29.42-29.421-29.42\n                    C13.198,0.391,0,13.589,0,29.811c0,16.223,13.198,29.421,29.42,29.421c4.318,0,8.518-0.932,12.37-2.724l9.931,9.932\n                    c2.019,2.019,4.701,3.13,7.556,3.13s5.539-1.112,7.557-3.132c2.016-2.015,3.127-4.698,3.127-7.553\n                    C69.96,56.032,68.849,53.348,66.829,51.329z M62.588,62.198c-0.914,0.915-2.113,1.372-3.312,1.372s-2.397-0.457-3.313-1.372\n                    L42.798,49.031c-3.794,2.646-8.403,4.201-13.378,4.201C16.485,53.232,6,42.746,6,29.811s10.485-23.42,23.42-23.42\n                    s23.421,10.485,23.421,23.42c0,4.57-1.314,8.832-3.578,12.438l13.325,13.325C64.418,57.403,64.418,60.369,62.588,62.198z"}),(0,n.Lk)("path",{d:"M29.42,13.061c-9.235,0-16.749,7.514-16.749,16.75s7.514,16.75,16.749,16.75c9.236,0,16.75-7.514,16.75-16.75\n                    S38.656,13.061,29.42,13.061z M29.42,40.561c-5.927,0-10.749-4.822-10.749-10.75s4.822-10.75,10.749-10.75\n                    c5.928,0,10.75,4.822,10.75,10.75S35.348,40.561,29.42,40.561z"})])],-1)]))])]),(0,n.Lk)("div",k,[(0,n.Lk)("div",{class:"toggle-container",onClick:e[4]||(e[4]=t=>s.isPredicted=!s.isPredicted)},[e[11]||(e[11]=(0,n.Lk)("label",{for:"isPredicted"},"Forecast",-1)),(0,n.Lk)("div",{class:(0,i.C4)(["toggle-switch",{active:s.isPredicted}])},[(0,n.Lk)("div",{class:(0,i.C4)(["toggle-knob",{"move-right":s.isPredicted}])},null,2)],2)])]),(0,n.Lk)("div",m,[(0,n.Lk)("div",b,[s.chartData.labels&&s.chartData.datasets.length?((0,n.uX)(),(0,n.Wv)(O,{key:0,ref:"lineChart",data:s.chartData,options:s.options},null,8,["data","options"])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",f,[s.chartData.labels&&s.chartData.datasets.length?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn reset",onClick:e[5]||(e[5]=t=>r.resetZoom())},"Reset Zoom")):(0,n.Q3)("",!0)])]),s.showBarChart?((0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("div",y,[(0,n.bF)(R,{data:s.barChartData,options:s.barChartOptions},null,8,["data","options"])])])):(0,n.Q3)("",!0),s.showBarChart?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("table",L,[e[12]||(e[12]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",{class:"table-header"},[(0,n.Lk)("th",null,"State Name"),(0,n.Lk)("th",null,"Region Name"),(0,n.Lk)("th",null,"Size Rank"),(0,n.Lk)("th",null,"Mean"),(0,n.Lk)("th",null,"Median"),(0,n.Lk)("th",null,"Skewness"),(0,n.Lk)("th",null,"Deviation"),(0,n.Lk)("th",null,"Percentiles")])],-1)),(0,n.Lk)("tbody",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.statisticalData,((t,e)=>((0,n.uX)(),(0,n.CE)("tr",{key:e},[(0,n.Lk)("td",null,(0,i.v_)(t.state),1),(0,n.Lk)("td",null,(0,i.v_)(t.country),1),(0,n.Lk)("td",null,(0,i.v_)(t.sizeRank),1),(0,n.Lk)("td",null,(0,i.v_)(t.mean),1),(0,n.Lk)("td",null,(0,i.v_)(t.median),1),(0,n.Lk)("td",null,(0,i.v_)(t.skewness),1),(0,n.Lk)("td",null,(0,i.v_)(t.deviation),1),(0,n.Lk)("td",null,(0,i.v_)(t.percentiles),1)])))),128))])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",D,[(0,n.Lk)("div",S,[s.chartData.labels&&s.chartData.datasets.length?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn download",onClick:e[6]||(e[6]=t=>r.downloadChartData())},"Download Data")):(0,n.Q3)("",!0)])])])])}a(4114),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(8992),a(1454),a(8872),a(7550),a(4603),a(7566),a(8721);var _=a(6908),O=a(6118),R=a(3839),x=a(3807),M=a(6876);O.t1.register(O.hE,O.m_,O.s$,O.No,O.FN,O.kc,O.PP,R.Ay,O.E8);var E={name:"CodingChallenge",props:{},components:{LineChart:_.N1,BarChart:_.yP,Multiselect:x.Ay,VueDatePicker:M.A},data(){return console.log("here"),{chartData:{},statesOptions:["CO","CA"],countryOptions:[{CountryName:"Denver",StateName:"CO"}],selectedStates:[],selectedCountry:[],selectedDateRange:[],predictions:[],options:{},loaded:!1,isPredicted:!1,barChartData:null,selectedMonth:[],months:[],showBarChart:!1,barChartOptions:{},statisticalData:[],isZoomed:!1,showInstructionDialog:!1}},methods:{toggle(){this.isPredicted=!this.isPredicted},resetZoom(){this.$refs.lineChart.chart.resetZoom()},fetchStates(){fetch("http://localhost:5001/getStates",{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}).then((t=>t.json())).then((t=>{this.statesOptions=t})).catch((t=>console.error("Error fetching States:",t)))},addStates(t){this.selectedStates.push(t)},addCountries(t){const e=this.countryOptions.some((e=>e.countryName===t));this.selectedCountry.push({StateName:e,CountryName:t})},fetchCountries(){this.selectedStates.length>0&&fetch("http://localhost:5001/get_countries",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({selectedStates:this.selectedStates})}).then((t=>t.json())).then((t=>{this.countryOptions=t})).catch((t=>console.error("Error fetching country data:",t)))},fetchPredictions(){fetch("http://localhost:5001/predict",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({selectedCountry:this.selectedCountry,selectedDateRange:this.selectedDateRange,isPredicted:this.isPredicted})}).then((t=>t.json())).then((t=>{console.log("predictions fetch",t.predictions),this.predictions=t.predictions,this.generateChartData(t.predictions)})).catch((t=>console.error("Error fetching country data:",t)))},getPredicted(){this.fetchPredictions(),this.loaded=!this.loaded},getRandomColor(){const t="0123456789ABCDEF";let e="#";for(let a=0;a<6;a++)e+=t[Math.floor(16*Math.random())];return e},generateChartData(t){if(this.selectedCountry.length>0){const e=this.selectedCountry.map((({CountryName:t,StateName:e,SizeRank:a})=>`${t},${e},${a}`)),a=t.map(((t,a)=>({label:e[a],data:t.map((t=>t.PredictedPrice)),borderColor:this.getRandomColor(),backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0}))),o=t[0].map((t=>t.Date));this.chartData={labels:o,datasets:a},this.months=o,this.options={responsive:!0,maintainAspectRatio:1.5,scales:{x:{grid:{display:!0,color:"rgba(211, 211, 211, 1)",lineWidth:.5},ticks:{color:"rgba(211, 211, 211, 1)",font:{size:14,weight:"bold"},padding:10,autoSkip:!0,maxRotation:45,minRotation:0}},y:{grid:{display:!0,color:"rgba(211, 211, 211, 1)",lineWidth:.5},ticks:{color:"rgba(211, 211, 211, 1)",font:{size:14,weight:"bold"},padding:10,autoSkip:!0,maxRotation:45,minRotation:0}}},plugins:{legend:{labels:{color:"black"}},title:{display:!0,text:"House Price vs Date Graph",color:"black",font:{size:"20vmin"}},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!1},mode:"xy"}}},onClick:t=>{try{const e=this.$refs.lineChart.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1);this.selectedMonth.includes(e[0].index)||(this.selectedMonth.push(e[0].index),this.updateBarChart(this.selectedMonth))}catch(t){console.warn("Please click the data point!")}}}}},downloadChartData(){const t=this.chartData,e=JSON.stringify(t),a=new Blob([e],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download="chartData.json",o.click()},safeParse(t){let e={};try{return e=JSON.parse(JSON.stringify(t)),e}catch(a){console.error("Incorrect safe parse, error:",a)}},updateBarChart(t){const e=[...new Set(t)];e.sort();let a=[];try{const o=this.safeParse(this.chartData.datasets);o.map((t=>{let o=[];for(let a=0;a<e.length;a++){const n=e[a];o.push(t.data[n])}a.push({label:t.label,data:o,backgroundColor:t.borderColor,fill:!0})}));const n=this.safeParse(this.months),s=t.map((t=>n[t]));this.barChartData={labels:s,datasets:a},this.showBarChart=!0,this.barChartOptions={responsive:!0,maintainAspectRatio:1.5,scales:{x:{grid:{display:!0,color:"rgba(211, 211, 211, 1)",lineWidth:.5},ticks:{color:"rgba(211, 211, 211, 1)",font:{size:14,weight:"bold"},padding:10,autoSkip:!0,maxRotation:45,minRotation:0}},y:{grid:{display:!0,color:"rgba(211, 211, 211, 1)",lineWidth:.5},ticks:{color:"rgba(211, 211, 211, 1)",font:{size:14,weight:"bold"},padding:10,autoSkip:!0,maxRotation:45,minRotation:0}}},plugins:{legend:{labels:{color:"black"}},title:{display:!0,text:"House Price of Selected Regions vs Selected Date Graph",color:"black",font:{size:"20vmin"}}}},this.summary()}catch(o){console.log("Error in parsing chartdata")}},getPercentile(t,e){const a=e/100*(t.length-1);if(Number.isInteger(a))return t[a];{const e=Math.floor(a),o=Math.ceil(a),n=a-e;return t[e]+n*(t[o]-t[e])}},calculateStats(t){const[e,a,o]=t.label.split(","),n=t.data,s=n.length,r=[...n].sort(((t,e)=>t-e)),i=n.reduce(((t,e)=>t+e),0),l=i/s,c=s%2===0?(r[s/2-1]+r[s/2])/2:r[Math.floor(s/2)],d=n.map((t=>Math.pow(t-l,2))),h=d.reduce(((t,e)=>t+e),0)/s,u=Math.sqrt(h),p=n.reduce(((t,e)=>t+Math.pow(e-l,3)),0),g=p/s/Math.pow(u,3),k=this.getPercentile(r,25),m=this.getPercentile(r,50),b=this.getPercentile(r,75);return{country:e,state:a,sizeRank:o,mean:l,median:c,skewness:g,deviation:h,percentiles:[k,m,b]}},summary(){if(!this.barChartData.datasets.length)return[];const t=this.safeParse(this.barChartData.datasets);this.statisticalData=t.map((t=>this.calculateStats(t)))}},mounted(){this.fetchStates()},watch:{selectedStates(){this.countryOptions=this.fetchCountries()}}},N=a(6262);const z=(0,N.A)(E,[["render",P],["__scopeId","data-v-43a1a90e"]]);var T=z,j={name:"App",components:{CodingChallenge:T},data(){return{sampleData:[{strike_price:100,type:"Call",bid:10.05,ask:12.04,long_short:"long",expiration_date:"2025-12-17T00:00:00Z"},{strike_price:102.5,type:"Call",bid:12.1,ask:14,long_short:"long",expiration_date:"2025-12-17T00:00:00Z"},{strike_price:103,type:"Put",bid:14,ask:15.5,long_short:"short",expiration_date:"2025-12-17T00:00:00Z"},{strike_price:105,type:"Put",bid:16,ask:18,long_short:"long",expiration_date:"2025-12-17T00:00:00Z"}]}}};const A=(0,N.A)(j,[["render",r]]);var F=A;(0,o.Ef)(F).mount("#app")}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,o,n,s){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],n=t[d][1],s=t[d][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(i=!1,s<r&&(r=s));if(i){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[o,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,s,r=o[0],i=o[1],l=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var d=l(a)}for(e&&e(o);c<r.length;c++)s=r[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(d)},o=self["webpackChunkhouse_price_predictor"]=self["webpackChunkhouse_price_predictor"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(8008)}));o=a.O(o)})();
//# sourceMappingURL=app.1f16bc6e.js.map